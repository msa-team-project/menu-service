<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>메뉴 등록</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script th:src="@{/js/menuAdmin.js}"></script>
    <link th:href="@{/css/menu-style.css}" rel="stylesheet">

</head>
<body>
<h2>메뉴 등록</h2>
<form id="menuForm" th:action="@{/menus}" method="post" enctype="multipart/form-data">
    <label>메뉴 이름:</label>
    <input type="text" name="menuName" required><br>

    <label>가격:</label>
    <input type="number" name="price" required><br>

    <label>칼로리:</label>
    <input type="number" name="calorie" step="0.1" required><br>

    <label>빵 선택:</label>
    <select name="bread">
        <option th:each="bread : ${breads}" th:value="${bread.uid}" th:text="${bread.breadName}"></option>
    </select><br>

    <label>메인 재료 1:</label>
    <select name="material1">
        <option th:each="mat : ${materials}" th:value="${mat.uid}" th:text="${mat.materialName}"></option>
    </select><br>

    <label>추가 재료:</label>
    <select name="material2">
        <option value="">선택 안 함</option>
        <option th:each="mat : ${materials}" th:value="${mat.uid}" th:text="${mat.materialName}"></option>
    </select>
    <select name="material3">
        <option value="">선택 안 함</option>
        <option th:each="mat : ${materials}" th:value="${mat.uid}" th:text="${mat.materialName}"></option>
    </select><br>

    <label>치즈 선택:</label>
    <select name="cheese">
        <option value="">선택 안 함</option>
        <option th:each="ch : ${cheeses}" th:value="${ch.uid}" th:text="${ch.cheeseName}"></option>
    </select><br>

    <label>채소 선택:</label>
    <select name="vegetable1">
        <option th:each="veg : ${vegetables}" th:value="${veg.uid}" th:text="${veg.vegetableName}"></option>
    </select>
    <select name="vegetable2">
        <option value="">선택 안 함</option>
        <option th:each="veg : ${vegetables}" th:value="${veg.uid}" th:text="${veg.vegetableName}"></option>
    </select>
    <select name="vegetable3"><option value="">선택 안 함</option></select>
    <select name="vegetable4"><option value="">선택 안 함</option></select>
    <select name="vegetable5"><option value="">선택 안 함</option></select>
    <select name="vegetable6"><option value="">선택 안 함</option></select>
    <select name="vegetable7"><option value="">선택 안 함</option></select>
    <select name="vegetable8"><option value="">선택 안 함</option></select><br>

    <label>소스 선택:</label>
    <select name="sauce1">
        <option th:each="sauce : ${sauces}" th:value="${sauce.uid}" th:text="${sauce.sauceName}"></option>
    </select>
    <select name="sauce2"><option value="">선택 안 함</option></select>
    <select name="sauce3"><option value="">선택 안 함</option></select><br>

    <label>이미지 업로드:</label>
    <input type="file" id="img" name="file" accept="image/*" required><br>

    <label>상태:</label>
    <select name="status">
        <option value="active">ACTIVE</option>
        <option value="deleted">DELETED</option>
    </select><br>

    <button type="submit">등록</button>
</form>

<script>
    $("#menuForm").on("submit", function (event) {
        let fileInput = $("#img")[0].files[0];
        if (!fileInput) {
            alert("이미지를 업로드해야 합니다.");
            event.preventDefault();
        }
    });
</script>
</body>
</html>
